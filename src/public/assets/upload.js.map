{"version":3,"sources":["webpack:///webpack/bootstrap dde63f8d3603faf6bc2d","webpack:///./src/public/javascript/utility.js","webpack:///./src/public/javascript/upload.js","webpack:///./src/public/javascript/api.js","webpack:///./src/public/javascript/local_settings.js"],"names":["error","err","message","newDate","Date","setTime","now","dateString","toTimeString","console","log","$","text","formatAMPM","date","hours","getHours","minutes","getMinutes","seconds","getSeconds","ampm","strTime","vm","Vue","el","components","data","selectedTableName","methods","updateMessage","msg","uploadFile","event","file","target","files","reader","FileReader","onload","e","params","csv","result","tableName","confirmedChanges","response","$refs","value","bind","readAsText","getStatistics","filter","request","json","queueStats","getData","getReportResults","type","getUserInformation","username","path","updateUserTheme","newTheme","getFieldList","updateField","field","getGoalList","getGoalsForAgentGroups","agentGroups","updateGoal","goal","deleteGoal","getSkillGroups","getLinkList","updateLink","link","deleteLink","getSkillJobs","updateSkillJob","job","format","skillStr","split","map","sk","trim","prop","skills","deleteSkillJob","getAdminUsers","users","updateAdminUser","user","rebootServer","reloadData","uploadData","parameters","endpoint","url","method","apiURL","API_URL","requestOptions","headers","credentials","body","JSON","stringify","fetch","then","status","notifyServer504","ok","bodyText","Error","statusText","jsonToReturnValue","getFaultStringFromData","getParameters","requestType"],"mappings":"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","file":"upload.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 103);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dde63f8d3603faf6bc2d","\n// Send out an error alert in console and on the page.\nexport function error(err, message='') {\n    // timestamp\n    let newDate = new Date();\n    newDate.setTime(Date.now());\n    let dateString = newDate.toTimeString();\n    console.log(dateString);\n\n    // Post to page\n    $('#message').text(`Whoops! An error occurred. ${err.message} ${message}`);\n    console.log('Error log:');\n    console.error(err);\n}\n\n// Nicely formatted time\nexport function formatAMPM(date) {\n    let hours = date.getHours();\n    let minutes = date.getMinutes();\n    let seconds = date.getSeconds();\n    let ampm = hours >= 12 ? 'PM' : 'AM';\n    hours = hours % 12;\n    hours = hours ? hours : 12; // the hour '0' should be '12'\n    minutes = minutes < 10 ? '0'+minutes : minutes;\n    seconds = seconds < 10 ? '0'+seconds : seconds;\n    let strTime = hours + ':' + minutes + ':' + seconds + ' ' + ampm;\n    return strTime;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/public/javascript/utility.js","import * as api from './api.js';\n\nconst vm = new Vue({\n    el: '#upload-app',\n\n    components: {\n    },\n\n    data: {\n        message: '',\n        selectedTableName: 'SkillGroup'\n    },\n\n    methods: {\n        updateMessage: function(msg) {\n            this.message = msg;\n        },\n        uploadFile: async function(event) {\n            const file = event.target.files[0];\n            if (!file) {\n                this.updateMessage('No file selected.')\n                return;\n            }\n            const reader = new FileReader();\n            reader.onload = async function(e) {\n                const params = {\n                    csv: e.target.result,\n                    tableName: this.selectedTableName,\n                    confirmedChanges: false\n                };\n                const response = await api.uploadData(params);\n                this.updateMessage(response);\n                // clear input file\n                this.$refs['fileInput'].value = '';\n            }.bind(this);\n            reader.readAsText(file);\n        }\n    }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/public/javascript/upload.js","import { error } from './utility.js';\nimport { API_URL } from './local_settings.js';\n\n////////////////////////////////////////////////////////////////\n// Functions to retrieve and extract data from Five9.\n// These functions interact with our server, which houses data\n// and formats data originating in Five9 reports.\n////////////////////////////////////////////////////////////////\n\n\n// Get agent/ACD statistics\nexport async function getStatistics(filter) {\n    const response = await request(filter, 'statistics');\n    return response.json();\n}\n\n// Get real-time stats\nexport async function queueStats() {\n    return getData({}, 'queue-stats');\n}\n\n/**\n * Get CSV string of report results from Five9\n * @param  {Object} params\n * @param  {String} type   endpoint: `maps` or `service-level`\n * @return {Promise -> Object}        JSON data\n */\nexport function getReportResults(params, type) {\n    return getData(params, `reports/${type}`);\n}\n\n/**\n * Return user information from username.\n * @param  {String} username if blank, will return currently logged-in user's\n *                           data\n * @return {Promise -> Object} User's object\n */\nexport async function getUserInformation(username = '') {\n    let path = username ? `users/data/${username}` : `users/data`;\n    const response = await request({}, path, 'GET');\n    return response.json();\n}\n\n/**\n * Set a user's theme preferences.\n * @param  {String} username\n * @param  {Object} newTheme with theme fields\n * @return {Promise -> String} response message\n */\nexport async function updateUserTheme(username, newTheme) {\n    const response = await request(\n        { username: username, newTheme: newTheme },\n        `users/theme`, 'PATCH'\n    );\n    return response.text();\n}\n\n\n/**\n * List of available fields for widgets.\n * @return {Promise} resolves to array of field objects\n */\nexport async function getFieldList() {\n    let response = await request({}, 'fields', 'GET');\n    return response.json();\n}\n/**\n * Updates a field on server.\n * @param  {Object}  field new object\n * @return {Promise} resolves to array of field objects\n */\nexport async function updateField(field) {\n    let response = await request({field: field}, 'fields', 'PUT');\n    return response.text();\n}\n\n\n/**\n * List of all links.\n * @return {Promise} resolves to array of goal objects\n */\nexport async function getGoalList() {\n    let response = await request({}, 'goals', 'POST');\n    return response.json();\n}\n/**\n * List of goals that apply to the given agent group(s).\n * @param  {Array of Strings}   agentGroups\n * @return {Promise} resolves to array of goal objects\n */\nexport async function getGoalsForAgentGroups(agentGroups) {\n    let response = await request({agentGroups: agentGroups}, 'goals', 'POST');\n    return response.json();\n}\n/**\n * Updates a goal on server.\n * @param  {Object}  goal new object\n * @return {Promise} resolves to response message\n */\nexport async function updateGoal(goal) {\n    let response = await request({goal: goal}, 'goals', 'PUT');\n    return response.text();\n}\n/**\n * Delete a goal from server.\n * @param  {Object}  goal object to remove\n * @return {Promise} resolves to response message\n */\nexport async function deleteGoal(goal) {\n    let response = await request({goal: goal}, 'goals', 'DELETE');\n    return response.text();\n}\n\n/**\n * Get skill groups with associated names, agentGroups and skills\n * @return {Promise -> [Object]} array of objects from SkillGroup table\n */\nexport async function getSkillGroups() {\n    let response = await request({}, 'skill-group', 'GET');\n    return response.json();\n}\n\n/**\n * List of all links.\n * @return {Promise} resolves to array of link objects\n */\nexport async function getLinkList() {\n    let response = await request({}, 'links', 'POST');\n    return response.json();\n}\n/**\n * Updates a link on server.\n * @param  {Object}  link new object\n * @return {Promise} resolves to response message\n */\nexport async function updateLink(link) {\n    let response = await request({link: link}, 'links', 'PUT');\n    return response.text();\n}\n/**\n * Delete a link from server.\n * @param  {Object}  link object to remove\n * @return {Promise} resolves to response message\n */\nexport async function deleteLink(link) {\n    let response = await request({link: link}, 'links', 'DELETE');\n    return response.text();\n}\n\n/**\n * List of available scheduled skilling jobs.\n * @return {Promise} resolves to array of field objects\n */\nexport async function getSkillJobs() {\n    let response = await request({}, 'skill', 'GET');\n    return response.json();\n}\n/**\n * Updates a scheduled skilling job on server.\n * @param  {Object}  job new object\n * @return {Promise} resolves to server's response\n */\nexport async function updateSkillJob(job) {\n    // format data\n    const format = (skillStr) => skillStr.split(',').map((sk) => sk.trim());\n\n    ['addSkills', 'removeSkills'].map((prop) => {\n        let skills = job.data[prop];\n        if (typeof(skills) == 'string') {\n            job.data[prop] = format(skills);\n        }\n    });\n\n    let response = await request({job: job, data: job.data}, 'skill', 'PUT');\n    return response.text();\n}\n/**\n * Delete the given skilling job object.\n * @param  {Object} job\n * @return {Promise} resolves to response from server\n */\nexport async function deleteSkillJob(job) {\n    let response = await request({job: job}, 'skill', 'DELETE');\n    return response.text();\n}\n\nexport async function getAdminUsers() {\n    let response = await request({}, 'users/admin', 'GET');\n    let users = await response.json();\n    console.log(users)\n    return users;\n}\n\nexport async function updateAdminUser(user) {\n    let response = await request({user: user}, 'users/admin', 'PATCH');\n    return response.text();\n}\n\nexport async function rebootServer() {\n    const response = await request({}, 'reboot-server', 'POST');\n    return response.text();\n}\nexport async function reloadData(params) {\n    const response = await request(params, 'reload-data', 'POST');\n    return response.text();\n}\n\n/**\n * [uploadData description]\n * @param  {Object} params including fields tableName, csv, and\n *                          confirmedChanges (optional)\n * @return {Promise}       resolves to string (server response message)\n */\nexport async function uploadData(params) {\n    try {\n        const response = await request(params, 'upload-data', 'POST');\n        return await response.text();\n    } catch (err) {\n        return err.message;\n    }\n}\n\n/**\n *  Helper function that pulls credentials from DOM, then makes request to server.\n * @param  {Object} parameters POSTed to server\n * @param  {String} endpoint   at server's API\n * @return {Object}            JSON data\n */\nasync function getData(parameters, endpoint) {\n    const response = await request(parameters, endpoint);\n    return await response.json();\n}\n\n\n\n\n/**\n * Make a request to server with given parameters.\n * @param  {Object} parameters passed as body of request\n * @param  {String} [url='statistics'] endpoint on server\n * @param  {String} [method='POST'] HTTP action\n * @return {Promise} response from server\n */\nasync function request(parameters, url='statistics', method='POST') {\n    const apiURL = API_URL + url; // defined in api_url.js\n\n    const requestOptions = {\n        method: method,\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        credentials: 'include'\n    }\n    if (method != 'GET') {\n        requestOptions.body = JSON.stringify(parameters);\n    }\n\n    return fetch(apiURL, requestOptions)\n        .then(async (response) => {\n            if (response.status == 504) notifyServer504(parameters, url); // debugging\n            if (!response.ok) {\n                let bodyText = await response.text();\n                throw new Error(`Server responded with ${response.status} ${response.statusText}: ${bodyText}`);\n            }\n            return response;\n        });\n}\n\nasync function notifyServer504() {\n    return fetch(API_URL + 'notify-504');\n}\n\n\n// Gets the actual returned value/data out of JSON from the server.\nfunction jsonToReturnValue(json, type) {\n    return json['env:Envelope']['env:Body'][0]['ns2:'+type+'Response'][0]['return'][0];\n}\n\n// takes JSON from server and returns text within 'faultstring' tag (if existant)\nfunction getFaultStringFromData(data) {\n    try {\n        return data['env:Envelope']['env:Body'][0]['env:Fault'][0]['faultstring'];\n    } catch (err) {\n        return '';\n    }\n}\n\n// Given a requestType, returns JSON to submit to server in POST request.\n// requestType should match Five9 API command.\nexport function getParameters(requestType) {\n    let params = {};\n    // Initiate session\n    if (requestType == 'setSessionParameters') {\n        params = {\n            'service': 'setSessionParameters',\n            'settings': [ {\n                'viewSettings': [\n                    { 'idleTimeOut': 1800 },\n                    { 'statisticsRange': 'CurrentDay' },\n                    { 'rollingPeriod': 'Minutes10' }\n                ]\n            } ]\n        }\n    }\n    // Get real-time call stats\n    if (requestType == 'getStatistics') {\n        params = {\n            'service': 'getStatistics',\n            'settings': [ {\n                'statisticType': 'ACDStatus'\n            } ]\n        }\n    }\n\n    return params;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/public/javascript/api.js","export const API_URL = 'https://nathanclonts.com/dashboard/api/';\n\n\n\n// WEBPACK FOOTER //\n// ./src/public/javascript/local_settings.js"],"sourceRoot":""}